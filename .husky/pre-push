#!/bin/sh
set -e
. "$(dirname "$0")/_/husky.sh"

echo "ğŸŒ³ This is a Trunk-Based Development branch."
echo "ğŸ”’ Therefore, tests, linting, and build must pass before pushing."
echo

echo "======== Starting Tests ğŸ§ª  ========"
if bun test; then
    echo "======== Tests Completed Successfully âœ…  ========"
else
    echo "âŒ Tests Failed"
    exit 1
fi

echo
echo "======== Starting Build ğŸ—ï¸  ========"
if bun build; then
    echo "======== Build Completed Successfully âœ…  ========"
    echo
    echo "Test âœ… Build âœ… Pushed ğŸš€"
else
    echo "âŒ Build Failed"
    exit 1
fi
